<div class="container">
    <form class="row g-3" [formGroup]="form">
        <!-- first Name  -->
        <div class="col-md-4">

            <label class="form-label">First name</label>
            <input type="text" class="form-control" formControlName="firstName" required
                [ngClass]="{'is-valid':form.controls['firstName'].valid ,'is-invalid': ((isSubmit) && form.controls['firstName'].invalid ) || ((form.controls['firstName'].invalid && form.controls['firstName'].touched) ||( form.controls['firstName'].invalid && form.controls['firstName'].dirty))}  ">
            <div class="invalid-feedback"
                *ngIf="registerForm['firstName'].invalid && ( isSubmit || form.controls['firstName'].touched || form.controls['firstName'].dirty)">
                <div *ngIf="registerForm['firstName'].errors?.['required']">
                    First Name is required.
                </div>
                <div *ngIf="registerForm['firstName'].errors?.['pattern']">
                    Use Only Character.
                </div>
            </div>
            <div class="valid-feedback" *ngIf="form.controls['firstName'].valid">
                Looks good!
            </div>
        </div>
        <!-- Last Name  -->
        <div class="col-md-4">
            <label for="validationServer02" class="form-label">Last name</label>
            <input type="text" class="form-control is-valid" id="validationServer02" value="Otto" required
                formControlName="lastName"
                [ngClass]="{'is-valid':form.controls['lastName'].valid ,'is-invalid': ((isSubmit) && form.controls['lastName'].invalid ) || ((form.controls['lastName'].invalid && form.controls['lastName'].touched) ||( form.controls['lastName'].invalid && form.controls['lastName'].dirty))}   ">
            <div class="invalid-feedback"
                *ngIf="registerForm['lastName'].invalid && ( isSubmit || form.controls['lastName'].touched || form.controls['lastName'].dirty)">
                <div *ngIf="registerForm['lastName'].errors?.['required']">
                    Last Name is required.
                </div>
            </div>
            <div class="valid-feedback" *ngIf="form.controls['lastName'].valid">
                Looks good!
            </div>
        </div>

        <!-- username  -->
        <div class="col-md-4">
            <label for="validationServerUsername" class="form-label">Username</label>
            <div class="input-group has-validation">
                <span class="input-group-text" id="inputGroupPrepend3">@</span>
                <input type="text" class="form-control is-invalid" id="validationServerUsername"
                    aria-describedby="inputGroupPrepend3 validationServerUsernameFeedback" formControlName='userName'
                    [ngClass]="{'is-valid':form.controls['userName'].valid ,'is-invalid': ((isSubmit) && form.controls['userName'].invalid ) || ((form.controls['userName'].invalid && form.controls['userName'].touched) ||( form.controls['userName'].invalid && form.controls['userName'].dirty))}"
                    required>
                <div id="validationServerUsernameFeedback" class="invalid-feedback">
                    Please choose a username.
                </div>
                <div class="valid-feedback" *ngIf="form.controls['userName'].valid">
                    Looks good!
                </div>
            </div>
        </div>

        <address formGroupName='address'>
            <!-- city  -->
            <div class="col-md-6">
                <label for="validationServer03" class="form-label">City</label>
                <input type="text" class="form-control is-invalid" id="validationServer03"
                    aria-describedby="validationServer03Feedback" formControlName="city"
                    required  [ngClass]="{'is-valid':form.controls['city'].errors?.['required']}"> 
                    <!-- [ngClass]="{'is-valid':form.controls['city'].valid ,'is-invalid': ((isSubmit) && form.controls['city'].invalid ) || ((form.controls['city'].invalid && form.controls['city'].touched) ||( form.controls['city'].invalid && form.controls['city'].dirty))}" -->
                <div id="validationServer03Feedback" class="invalid-feedback">
                    Please provide a valid city.
                </div>
            </div>

            <!-- state  -->
            <div class="col-md-3">
                <label for="validationServer04" class="form-label">State</label>
                <select class="form-select is-invalid" id="validationServer04"
                    aria-describedby="validationServer04Feedback" formControlName="state" required>
                    <option selected disabled value="">Choose...</option>
                    <option>...</option>
                </select>
                <div id="validationServer04Feedback" class="invalid-feedback">
                    Please select a valid state.
                </div>
            </div>
            <div class="col-md-3">
                <label for="validationServer05" class="form-label">Zip</label>
                <input type="text" class="form-control is-invalid" id="validationServer05"
                    aria-describedby="validationServer05Feedback" required>
                <div id="validationServer05Feedback" class="invalid-feedback">
                    Please provide a valid zip.
                </div>
            </div>

        </address>
        <div class="col-12">
            <div class="form-check">
                <input class="form-check-input is-invalid" type="checkbox" value="" id="invalidCheck3"
                    aria-describedby="invalidCheck3Feedback" required>
                <label class="form-check-label" for="invalidCheck3">
                    Agree to terms and conditions
                </label>
                <div id="invalidCheck3Feedback" class="invalid-feedback">
                    You must agree before submitting.
                </div>
            </div>
        </div>
        <div class="col-12">
            <button class="btn btn-primary" type="submit" (click)="onSubmit()">Submit form</button>
        </div>
    </form>
</div>